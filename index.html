<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>游戏引擎之Cocos2d-x</title>
        
        <meta name="description" content="Introduction of cocos2d-x" />
        <meta name="author" content="Hans Zhang (ezburg@gmail.com)" />
        
        <link href="css/impress.css" rel="stylesheet" />
        <link href="css/cocos2d-x.css" rel="stylesheet" />
        
        <link rel="shortcut icon" href="favicon.png" />
        <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    </head>
    <body class="impress-not-supported">
        <div class="fallback-message">
            <p>尊驾的浏览器太老土啦！<b>无法满足impress.js的要求</b>，现在你只能看到一些最朴素的演示画面。</p>
            <p>为了欣赏漂亮的演示画面，请使用先进、优雅、快速、美丽、免费的现代浏览器，比如 <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> 。</p>
        </div>
        <div id="impress" data-perspective="1000">

            <div id="title" class="step" data-x="0" data-y="0" data-scale="4">
<!--                 <span class="try">CocoaChina 2014春季开发者大会汇报</span> -->
				<div style="text-align:center;">
                <h1 style="">游戏引擎</h1> <h1>之</h1> <h1>Cocos2d-x</h1>
				</div>
<!--                 <span class="footnote"> <a href="#/family">Cocos2d家族</a> <a href="#/concept">基本概念及架构</a> <a href="#/samples">示例</a></span> -->
            </div>

            <div class="step" data-x="-2000" data-y="-1500">
                <h1>什么是游戏引擎？</h1>
                <p>为了简化游戏开发的流程，对一些常用的功能和模块进行封装，比如：</p>
                <ul>
                    <li>图像渲染</li>
                    <li>物理引擎</li>
                    <li>碰撞检测</li>
                    <li>音效</li>
                    <li>人工智能</li>
                    <li>网络</li>
                </ul>
            </div>

            <div class="step" data-x="-1000" data-y="-1500" data-rotate="90">
                <div style="text-align:center"><img src="images/logo.png" /></div>
                <q>Cocos2d-x是目前最流行的跨平台2D游戏引擎，<b>开源</b>，<b>免费</b>，MIT许可协议。</q>
                <ul>
                    <li>主要由触控科技支持。</li>
                    <li>现在主要是2D，3D也已推出。2014年7月17日，3D版《捕鱼达人3》正式上线安卓和iOS平台</li>
                    <li>跨桌面、移动、Web三大平台。</li>
                </ul>
            </div>

            <div class="step" data-x="0" data-y="-1500" data-rotate="90">
                <img src="images/usage.png" alt=""/>
            </div>

            <div id="family" class="step" data-x="1000" data-y="-1500" data-rotate="90">
                <h1>Cocos2d家族</h1>
                <p><u>Cocos2d-python</u> => <u>Cocos2d-iphone</u> => <u>Cocos2d-x</u></p>
                <img src="images/Cocos2dMaintainers.jpg" />
            </div>

            <div class="step" data-x="2000" data-y="-1500" data-rotate="90" data-scale="2" data-rotate-x="90">
                <h1>主打四大大产品</h1>
                <p>array(<u>Cocos2d-x</u>, <u>Cocos2d-js</u>, <u>CocoStudio</u>,<br/> <u>Cocos Creator</u>);</p>
            </div>

            <div class="step" data-x="2500" data-y="-500" data-rotate="90">
                <h1>Cocos2d-x</h1>
                <ul>
                    <li>利用已有的C++、Lua或者Javascript经验开发可以部署到各种桌面和移动平台上</li>
                    <li>用C++最佳实践替换掉了objective-c模式</li>
                    <li>3.0以上使用了大量的STL和C++11的特性，如auto关键字、闭包(Lambda表达式)</li>
                    <li>不能部署到浏览器中</li>
                </ul>
            </div>

            <div class="step" data-x="2500" data-y="500" data-rotate="90">
                <h1>Cocos2d-js</h1>
                <ul>
                    <li>Javascript版，使用原生Javascript提供了与Cocos2d-x完全相同的接口</li>
                    <li>代码对比：
                        <ul>
                            <li><u>Cocos2d-x</u> => vector&lt;CCSprite *&gt; array(a, b);</li>
                            <li style="margin-top: 20px;"><u>Cocos2d-js</u> => var array = [a, b];</li>
                        </ul>
                    </li>
                    <li>全面支持桌面、移动和Web平台</li>
                </ul>
            </div>
            

            <div class="step" data-x="2500" data-y="1500" data-rotate="90">
                <h1>CocoStudio</h1>
                <ul>
                    <li>免费且专业的游戏开发工具包</li>
                    <li>UI编辑器</li>
                    <li>动画编辑器</li>
                    <li>场景编辑器</li>
                    <li>数据编辑器</li>
                </ul>
            </div>
            
                        <div class="step" data-x="2500" data-y="2500" data-rotate="90">
                <h1>Cocos API风格</h1>
                <ul>
                    <li>二阶段构造器及静态create()函数</li>
                    <li>doSomething()</li>
                    <li>onEventCallback()</li>
                    <li>getInstance()</li>
                    <li>Property：setProperty()，getProperty()，isProperty()</li>
                </ul>
            </div>

            
            


			<div class="step" data-x="1400" data-y="1600" data-rotate-x="30" data-rotate-y="-30" data-rotate-z="90">
                <img src="images/overview.png" alt=""/>
            </div>

            <div id="concept" class="step" data-x="100" data-y="1600" data-rotate="180">
                <img src="images/cocos2d-x-architecture.jpg" alt=""/>
            </div>

            <div class="step" data-x="-900" data-y="1600" data-rotate="180">
                <img src="images/director.jpg" alt=""/>
            </div>

            <div class="step" data-x="-2000" data-y="1600" data-rotate="180">
                <img src="images/structure.png" alt=""/>
            </div>

            <div class="step" data-x="-3000" data-y="1600" data-z="1000" data-rotate="270" data-rotate-y="90" data-scale-x="0.5">
                <h1>坐标系</h1>
                <ul>
                    <li>屏幕坐标系和Cocos2d坐标系</li>
                    <li>世界坐标系(World Coordinate) VS 本地坐标系（Node Local)</li>
                    <li>锚点（Anchor Point）</li>
                </ul>
            </div>
            
            
            <div class="step" data-x="-3000" data-y="600" data-rotate="270">
	            
	                <div id="left" style="width:250px;height:600px;float:left;">
                <img src="images/UICoordinate.png" alt=""/>
	                </div>
    <div id="right" style="width:400px;height:600px;float:right;">
	                    <p style="font-size: 25px;">
		                    标准屏幕坐标系使用和OpenGL不同的坐标系，而Cocos2d则使用和OpenGL相同的坐标系。
iOS, Android, Windows Phone等在开发应用时使用的是标准屏幕坐标系，原点为屏幕左上角，x向右，y向下。
Cocos2d坐标系和OpenGL坐标系一样，原点为屏幕左下角，x向右，y向上。
</p>
    </div>
            </div>

            
 <div class="step" data-x="-3000" data-y="-400" data-rotate="270">
	            <div style="text-align:center">
		            <img style="width: 600px" src="images/anchorPoint.png" alt=""/>
	            </div>

             
             <p style="background-color: rgba(238, 238, 238, 1);font-size: 25px;padding: 15px 40px 15px 40px;border-radius: 10px"> 
	            auto red = LayerColor::create(Color4B(255, 100, 100, 128), visibleSize.width/2, visibleSize.height/2);</br>
				auto green = LayerColor::create(Color4B(100, 255, 100, 128), visibleSize.width/4, visibleSize.height/4);</br>
				red->addChild(green);</br>
				this->addChild(red, 0);</br>
			</p>

            </div>
          
            
             <div class="step" data-x="-3000" data-y="-1400" data-rotate="270">
	            <div style="text-align:center">
					<img style="width: 600px" src="images/anchorPoint2.png" alt=""/>
	            </div>
             <p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px"> 
				auto red = LayerColor::create(Color4B(255, 100, 100, 128), visibleSize.width/2, visibleSize.height/2);</br>
				red->ignoreAnchorPointForPosition(false);</br>
				red->setAnchorPoint(Point(0.5, 0.5));</br>
				red->setPosition(Point(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));</br>
				</br>
				auto green = LayerColor::create(Color4B(100, 255, 100, 128), visibleSize.width/4, visibleSize.height/4);</br>
				green->ignoreAnchorPointForPosition(false);</br>
				green->setAnchorPoint(Point(1, 1));</br>
				red->addChild(green);</br>
				</br>
				this->addChild(red, 0);</br>
			</p>

            </div>
            
            <div class="step" data-x="-3000" data-y="-2400" data-rotate="270">
	            <div style="text-align:center">
					<img style="width: 600px" src="images/ignore.png" alt=""/>
	            </div>
             <p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px"> 
				auto red = LayerColor::create(Color4B(255, 100, 100, 128), visibleSize.width/2, visibleSize.height/2);</br>
				red->ignoreAnchorPointForPosition(true);</br>
				red->setPosition(Point(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));</br>
				</br>
				auto green = LayerColor::create(Color4B(100, 255, 100, 128), visibleSize.width/4,</br>visibleSize.height/4);
				green->ignoreAnchorPointForPosition(true);</br>
				red->addChild(green);</br>
				this->addChild(red, 0);</br>
			</p>

            </div>
            
            
            <div class="step" data-x="-2000" data-y="-2500" data-z="1000" data-rotate="0">
                <h1 >内存管理-绕不过去的坎</h1>
                <ul>
                    <li>Reference Count Management</li>
                    <li>Ref,AutoreleasePool,PoolManager</li>
                    <li>Retain,Release,Autorelease</li>
                    <li>CREATE_FUNC</li>
                    <li>new和autorelease, retain和release成对</li>
                </ul>

            </div>
            
            
            <div id="its-in-3d" class="step" data-x="-1000" data-y="-2500" data-z="1000" data-rotate="0">
                <h1 >内存管理－几个错误案例</h1>
                <p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
					auto obj = Scene::create();</br>
					obj->autorelease(); // Error
				</p>
				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
					auto obj = Scene::create();</br>
					obj->release(); // Error
				</p>
				<p style="color: red; text-align: center; margin-top:20px;">
					<span class="its">正确</span> <span class="in">做</span> <b>法
				</p>

				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
					auto obj = Scene::create(); // 这里retain和release对应，release一个已经被autorelease过的对象（例如通过create函数构造的对象）必须先retain</br>
					obj->retain();</br>
					obj->release();
				</p>

            </div>
            
            <div class="step" data-x="0" data-y="-2500" data-z="1000" data-rotate="0">
                <h1 >物理引擎</h1>
                				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
物理引擎通过为刚性物体赋予真实的物理属性的方式来计算运动、旋转和碰撞反映。为每个游戏使用物理引擎并不是完全必要的—简单的“牛顿”物理（比如加速和减速）也可以在一定程度上通过编程或编写脚本来实现。然而，当游戏需要比较复杂的物体碰撞、滚动、滑动或者弹跳的时候（比如赛车类游戏或者保龄球游戏），通过编程的方法就比较困难了。
				</p>
				<h2 style="font-size: 30px; margin-top: 20px;">物体的分类</h2>
				<ul style="font-size: 17px">
					<li>动态物体(dynamic)，可以受力，可以碰撞，可以移动</li>
                    <li>静态物体(static)，不可以受力，不能移动，参与碰撞</li>
                    <li>运动学物体(kinematic)，不可以受力，但是可以移动，可以参与碰撞</li>
                <ul>
				<h2 style="font-size: 30px; margin-top: 20px;">物体的属性</h2>
				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
					                				质量、速度、转动惯量、角速度、位置、角度
				</p>
            </div>
            
            
            
            <div class="step" data-x="1000" data-y="-2500" data-z="1000" data-rotate="0">
	            <h1 style="margin-bottom: 15px;">Box2D && Chipmunk</h1>
				<h2 style="font-size: 30px; margin-bottom: 5px;">搭建物理世界的步骤</h2>
				<p style="font-size: 20px;">以box2d为例</p>
				<img style="width: 800px" src="images/phyworld.png" alt=""/>
				<img style="width: 800px" src="images/box2d.png" alt=""/>
            </div>
            
            <div class="step" data-x="2000" data-y="-2500" data-z="1000" data-rotate="0">
	            <h1 style="margin-bottom: 15px;">Chipmunk</h1>
				<img style="width: 800px" src="images/chipmunk.png" alt=""/>

            </div>
            
            <div class="step" data-x="3000" data-y="-2000" data-z="1000" data-rotate="60">
	            <h1 style="margin-bottom: 15px;">内置物理引擎 Chipmunk</h1>
            </div>
            
            <div class="step" data-x="3500" data-y="-1000" data-z="1000" data-rotate="90">
	            <h1 style="margin-bottom: 15px;">粒子系统</h1>
	                            				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
粒子系统最早出现在80年代，主要用于解决由大量按一定规则运动（变化）的微小物质在计算机上的生成和显示问题。Particle System的应用非常广泛，大的可以模拟原子弹爆炸，星云变化，小的可以模拟水波、火焰、烟火、云雾等，而这些自然现象用常规的图形算法是很难逼真再现的。
				</p>
				
					                            				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
						                            				
						                            				
            Coordinate（坐标）<br/>
            在烟火爆炸的时刻，每个粒子都有一个相同的初始坐标，随着时间的推移，粒子的新坐标将由它的旧坐标和加速度来求得<br/>
            Velocity（速度）每个粒子都有一个随机产生的初始速度，粒子的新速度由加速度和空气阻尼来求得<br/>
            Acceleration（加速度）在烟火中，每个粒子的加速度都等于重力加速度<br/>
            Color（颜色）粒子颜色取决于粒子的速度或生命值的大小<br/>
            Life（生命值）每个粒子都有一个初始的随机生命值，这个值将随着时间的推移而逐渐减小，直到等于0<br/>
				</p>
				
				
            </div>
            
                 <div class="step" data-x="3500" data-y="0" data-z="1000" data-rotate="90">
	                 
	                 
	                 
	                       	<h2 style="font-size: 30px; margin-bottom: 5px;">粒子系统的生命周期</h2>
	                       								<img  src="images/parlife.png" alt=""/>
					                       	<h2 style="font-size: 30px; margin-bottom: 5px;">粒子系统相关属性</h2>

					                            				<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
						       最大粒子数，生命值，浮动值，初始大小，终止大小，发射角度，起始旋转角度，终止旋转角度。                     				

				</p>	
				<h2 style="font-size: 30px; margin-bottom: 5px;">发射器</h2>
			<p style="background-color: rgba(238, 238, 238, 1);font-size: 16px;padding: 15px 40px 15px 40px;border-radius: 10px; margin-top:20px;"> 
				重力发射器，放射发射器

				</p>

            </div>

				
				
            <div class="step" data-x="3500" data-y="1000" data-z="1000" data-rotate="90">
									<span class="its" style="text-align: center;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q</span> <span class="in">&&</span> <b>A

            </div>
            
            
       

            

            
            
            <!--
                <img src="images/anchorPoint2.png" alt=""/>
                <img src="images/ignore.png" alt=""/>
-->
            
            

<!--
            <div class="step" data-x="-3000" data-y="0" data-rotate="270">
                <h1>Plugin-X</h1>
                <p>易于集成第三方SDK:</p>
                <ul>
                    <li><u>Analytics SDKs</u> => Flurry, Google Analytics, Umeng</li>
                    <li><u>IAP SDKs</u> => Apple IAP, ChinaMobileGameCenter, ChinaTelecom, ChinaUnicom, Alipay</li>
                    <li><u>Ads SDKs</u> => AdMob, CharBoost, TapJoy</li>
                    <li><u>Social SDKs</u> => GameCenter, OpenFeint, 91.com</li>
                    <li><u>Sharing SDKs</u> => Facebook, Twitter, Weibo, ShareKit</li>
                </ul>
            </div>

            <div id="samples" class="step" data-x="-3000" data-y="-1000" data-rotate="270">
                <h1>示例</h1>
                <ul>
                    <li>Cocos2d-x</li>
                    <li>Cocos2d-html</li>
                    <li>Quick-x: 多分辨率适配，F5刷新</li>
                    <li>CocoStudio</li>
                    <li>TexturePacker</li>
                </ul>
            </div>
-->

            <div id="overview" class="step" data-x="0" data-y="0" data-scale="10">
            </div>

        </div>
<!--
        <div class="hint">
            <p>使用空格或者方向键来移动</p>
        </div>
-->
        <script>
/*
        if ("ontouchstart" in document.documentElement) {
        document.querySelector(".hint").innerHTML = "<p>向左或向右拖动屏幕来移动</p>";
        }
*/
        </script>
        <script src="js/impress.js"></script>
        <script>impress().init();</script>
    </body>
</html>